# Lightstreamer - Race Telemetry Demo - Java Adapter

<!-- START DESCRIPTION lightstreamer-example-racetelemetry-adapter-java -->

This project shows the Race Telemetry Demo Data Adapters and how they can be plugged into Lightstreamer Server and used to feed the [Lightstreamer - Race Telemetry Demo - HTML Client](https://github.com/Weswit/Lightstreamer-example-RaceTelemetry-client-javascript) front-end.
The *Race Telemetry Demo* is a simple real-time telemetry application based on Lightstreamer.

## Details

The project is comprised of source code and a deployment example.

### Dig the Code

#### Race Telemetry Data Adapter
Contains the source code for the Data Adapter. The data is generated by a random feed simulator of the telemetry metrics of a car such as Time, Distance, Speed, Engine RPM, Gear, and Laps.<br>

<br>
The Metadata Adapter functionalities are absolved by the `LiteralBasedProvider` in [Lightstreamer - Reusable Metadata Adapters - Java Adapter](https://github.com/Weswit/Lightstreamer-example-ReusableMetadata-adapter-java), a simple full implementation of a Metadata Adapter, made available in Lightstreamer distribution. 
<br>
See the source code comments for further details.

<!-- END DESCRIPTION lightstreamer-example-racetelemetry-adapter-java -->

### The Adapter Set Configuration

This Adapter Set is configured and will be referenced by the clients as `F1Telemetry`. 

The `adapters.xml` file for the *Race Telemetry Demo*, should look like:
```xml      
  <?xml version="1.0"?>

 <adapters_conf id="F1Telemetry">

    <metadata_provider>
      <adapter_class>com.lightstreamer.adapters.metadata.LiteralBasedProvider</adapter_class>
      
      <param name="search_dir">.</param>
      <param name="static">Y</param>
      <param name="item_family_1">L_driver_1</param>
      <param name="modes_for_item_family_1">DISTINCT</param>
      <param name="item_family_2">P_driver_1</param>
      <param name="modes_for_item_family_2">MERGE</param>
    </metadata_provider>
    
    <data_provider>
      <adapter_class>com.lightstreamer.adapters.web_telemetry.DataProviderImpl</adapter_class>
      <param name="log_config">adapters_log_conf.xml</param>
      <param name="log_config_refresh_seconds">10</param>
    </data_provider>
    
  </adapters_conf>
```

Please refer [here](http://www.lightstreamer.com/latest/Lightstreamer_Allegro-Presto-Vivace_5_1_Colosseo/Lightstreamer/DOCS-SDKs/General%20Concepts.pdf) for more details about Lightstreamer Adapters.<br>

## Install

If you want to install a version of the *Race Telemetry Demo* in your local Lightstreamer Server, follow these steps.

* Download *Lightstreamer Server* (Lightstreamer Server comes with a free non-expiring demo license for 20 connected users) from [Lightstreamer Download page](http://www.lightstreamer.com/download.htm), and install it, as explained in the `GETTING_STARTED.TXT` file in the installation home directory.
* Make sure that Lightstreamer Server is not running.
* Get the `deploy.zip` file of the [latest release](https://github.com/Weswit/Lightstreamer-example-RaceTelemetry-adapter-java/releases), unzip it, and copy the `RaceTelemetry` folder into the `adapters` folder of your Lightstreamer Server installation.
* Copy the `ls-generic-adapters.jar` file from the `lib` directory of the sibling "Reusable_MetadataAdapters" SDK example to the `shared/lib` subdirectory in your Lightstreamer Server installation home directory.
* Launch Lightstreamer Server.
* Test the Adapter, launching the [Lightstreamer - Race Telemetry Demo - HTML Client](https://github.com/Weswit/Lightstreamer-example-RaceTelemetry-client-javascript) listed in [Clients Using This Adapter](https://github.com/Weswit/Lightstreamer-example-RaceTelemetry-adapter-java#clients-using-this-adapter).

## Build

To build your own version of `LS_WebTelemetry_DataAdapter.jar` instead of using the one provided in the `deploy.zip` file from the [Install](https://github.com/Weswit/Lightstreamer-example-RaceTelemetry-adapter-java#install) section above, follow these steps:

* Download this project.
* Get the `ls-adapter-interface.jar` and `log4j-1.2.15.jar` files from the [latest Lightstreamer distribution](http://www.lightstreamer.com/download), and copy them into the `lib` directory.
* Create the `LS_WebTelemetry_DataAdapter.jar` file with commands like these:
```sh
 >javac -source 1.7 -target 1.7 -nowarn -g -classpath lib/log4j-1.2.15.jar;lib/ls-adapter-interface/ls-adapter-interface.jar; -sourcepath src -d tmp_classes src/com/lightstreamer/adapters/web_telemetry/DataProviderImpl.java
 
 >jar cvf LS_WebTelemetry_DataAdapter.jar -C tmp_classes src
```

## See Also

### Clients Using This Adapter
<!-- START RELATED_ENTRIES -->

* [Lightstreamer - Race Telemetry Demo - HTML Client](https://github.com/Weswit/Lightstreamer-example-RaceTelemetry-client-javascript)

<!-- END RELATED_ENTRIES -->

### Related Projects

* [Lightstreamer - Reusable Metadata Adapters - Java Adapter](https://github.com/Weswit/Lightstreamer-example-ReusableMetadata-adapter-java)

## Lightstreamer Compatibility Notes

* Compatible with Lightstreamer SDK for Java Adapters since 5.1
